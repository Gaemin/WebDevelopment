<!DOCTYPE html>
<html lang="en" dir="ltr" style="background-image: url(image/background_template.png)">
<header>
	<meta charset="UTF-8">
	<title> h e a r t a p p . t e c h </title>
  	<link rel="stylesheet" type="text/css" href="css/layout.css" >
    <link rel="stylesheet" type="text/css" href="css/contact.css" >
</header>
<body>
<script type="text/javascript">

    function validitycheck(){
        var num = errorcheck();
        if (num==1){
            return errmsgon1();
        }else if(num==2){
            return errmsgon2();
        }else if(num==3){
            return errmsgon3();
        }else{
            $.ajax({
                url:'php/email.php',
                complete: function (response) {
                    $('#output').html(response.responseText);
                },
                error: function () {
                    $('#output').html('Bummer: there was an error!');
                },
            });
            return msgon();
        }
    }
    function errorcheck(){
        var email = document.forms["myForm"]["email"].value;
        var name = document.getElementById("name");
        var message = document.getElementById("message");
        var atpos = email.indexOf("@");
        var dotpos = email.lastIndexOf(".");    
        var pattern =/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
        
        if(email.length==0 && name.length==0 && message.length==0){
            return 1;
        }else if ((atpos<1 || dotpos<atpos+2 || dotpos+2>=email.length)||pattern.test(email)) {
            return 2;
        }else if(message.length<5){
            return 3;
        }else{
            return 0;
        }
    }
    function msgon(){
        document.getElementById("rtmsg").style.display='block';
        setTimeout("msgoff('rtmsg')",2000);
    }
    function errmsgon1(){
        document.getElementById("errmsg1").style.display='block';
        setTimeout("msgoff('errmsg1')",2000);
    }
    function errmsgon2(){
        document.getElementById("errmsg2").style.display='block';
        setTimeout("msgoff('errmsg2')",2000);
    }
    function errmsgon3(){
        document.getElementById("errmsg3").style.display='block';
        setTimeout("msgoff('errmsg3')",2000);
    }
    function msgoff(id){
        document.getElementById(id).style.display='none';
    }

</script>

<div id="rightside">
	<div id="banner">
		<h1> A bridge to creation </h1>
	</div>

	<div id="content">
        <div class="contact_sheet">
        	<form name="myfrom" action="php/email.php" method="POST">
                <fieldset>  <center>  
                	<h2> Tell us what you think! </h2>  <br>                  
                    <input type="text" id="name" name="name" class="input-block" placeholder="Your name: " />
                    <input type="text" id="email" name="email" class="input-block" placeholder="Your email: "/>
                    <textarea class="input-block" id="message" name="message" placeholder="Your message:" cols="100" rows="6"></textarea>
                    <form method=post action="#" target="myiframe">
                    <button type="submit" class="btn">Submit </button></center>
                    </form>
                    <iframe  name="myiframe" id="myiframe" src="" width=1 height=1 style="visibility:hidden;position:absolute;"></iframe> 
                    <div id="rtmsg" style="width:300px;height:150px;position:absolute;left:50&#37;; top:20px; border:1px solid #6699FF; background:rgba(255,255,255,0.9);display:none;padding:20px;"><br/> Your message was sent!</div>
                    <div id="errmsg1" style="width:300px;height:150px;position:absolute;left:50&#37;; top:20px; border:1px solid #6699FF; background:rgba(255,255,255,0.9);display:none;padding:20px;"><br/> We are sorry, but there appears to be a problem with the form you submitted. You have to fill out all three fields! </div>
                    <div id="errmsg2" style="width:300px;height:150px;position:absolute;left:50&#37;; top:20px; border:1px solid #6699FF; background:rgba(255,255,255,0.9);display:none;padding:20px;"><br/> We are sorry, but there appears to be a problem with the form you submitted. Your email is invalid! </div>
                    <div id="errmsg3" style="width:300px;height:150px;position:absolute;left:50&#37;; top:20px; border:1px solid #6699FF; background:rgba(255,255,255,0.9);display:none;padding:20px;"><br/> We are sorry, but there appears to be a problem with the form you submitted. Your message should be longer! </div>
                </fieldset>
            </form>
        </div>
	</div>
	<div id="footerbar"> 
		<h3> &copy; heartapptech 2017  </h3>
	</div>
</div>
<div id="navibar">
	<h1> h e a r t <br>
		a p p t e c h</h1><br>
	<ul>
   		<li><a href="index.html"> HOME </a></li>
		<li><a href="index.html"> ABOUT </a></li>
		<li><a href="index.html"> PROJECTS </a></li>
    	<li><a href="contact.html"> CONTACT</a></li> 
    	<div id="social">
    		<iframe src="https://www.facebook.com/plugins/follow.php?href=https%3A%2F%2Fwww.facebook.com%2Fheartapptech&width=64&height=65&layout=button&size=small&show_faces=false&appId" width="65" height="65" style="border:none;overflow:hidden" scrolling="no" frameborder="0" allowTransparency="true"></iframe>
    	</div>
     	
	</ul>
</div>
	
</body>
</html>